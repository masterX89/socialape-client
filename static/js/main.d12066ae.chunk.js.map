{"version":3,"sources":["redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/types.js","constants/Constants.js","redux/actions/userActions.js","util/MyButton.js","redux/actions/dataActions.js","components/scream/PostScream.js","components/layout/Notifications.js","components/layout/Navbar.js","util/AuthRoute.js","util/ScreamSkeleton.js","components/scream/DeleteScream.js","components/scream/LikeButton.js","components/scream/Comments.js","components/scream/CommentForm.js","components/scream/ScreamDialog.js","components/scream/Scream.js","components/profile/EditDetails.js","util/ProfileSkeleton.js","components/profile/Profile.js","pages/Home.js","pages/Login.js","pages/Signup.js","components/profile/StaticProfile.js","pages/User.js","App.js","theme/theme.js","serviceWorker.js","index.js","images/no-img.png","images/icon.jpg"],"names":["initialState","authenticated","loading","credentials","likes","notifications","screams","scream","errors","middleware","thunk","reducers","combineReducers","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","concat","toConsumableArray","userHandle","handle","screamId","filter","like","forEach","not","read","data","index","findIndex","likeCount","splice","commentCount","comments","UI","store","createStore","compose","applyMiddleware","apply","FIREBASE_CORE_HOST","logoutUser","dispatch","localStorage","removeItem","axios","defaults","headers","common","getUserData","get","then","res","catch","err","console","log","setAuthorizationHeader","token","FBIdToken","setItem","MyButton","_ref","children","onClick","tip","btnClassName","tipClassName","placement","react_default","a","createElement","Tooltip","title","className","IconButton","clearErrors","PostScream","open","body","handleOpen","_this","setState","handleClose","props","handleChange","event","defineProperty","target","name","value","handleSubmit","preventDefault","newScream","postScream","nextProps","nextContext","this","_this$props","classes","react","Add_default","Dialog","onClose","fullWidth","maxWidth","closeButton","Close_default","DialogTitle","DialogContent","onSubmit","TextField","label","multiline","rows","placeholder","error","helperText","textField","onChange","Button","submitButton","variant","color","disabled","CircularProgress","size","progressSpinner","Component","connect","post","response","withStyles","theme","form","position","float","left","top","Notifications","anchorEl","onMenuOpened","unreadNotificationIds","map","notificationId","markNotificationsRead","notificationsIcon","_this2","dayjs","extend","relativeTime","Badge","badgeContent","Notifications_default","notificationsMarkup","verb","time","createdAt","fromNow","iconColor","icon","Favorite_default","style","marginRight","Chat_default","MenuItem","key","Typography","component","Link","to","recipient","sender","aria-owns","aria-haspopup","Menu","Boolean","onEntered","notificationIds","Navbar","AppBar","Toolbar","scream_PostScream","react_router_dom","Home_default","layout_Notifications","rest","objectWithoutProperties","react_router","assign","render","card","display","marginBottom","cardContent","width","flexDirection","padding","cover","minWidth","objectFit","height","backgroundColor","palette","primary","main","date","fullLine","halfLine","content","Array","from","item","Card","CardMedia","image","NoImg","CardContent","DeleteScream","deleteScream","deleteButton","DeleteOutline_default","DialogActions","delete","LikeButton","likedScream","find","likeScream","unlikeScream","FavoriteBorder_default","mapActionsToProps","Comments","Grid","container","comment","userImage","sm","src","alt","commentImage","commentData","format","invisibleSeparator","visibleSeparator","borderRadius","marginLeft","CommentForm","submitComment","textAlign","button","ScreamDialog","oldPath","newPath","window","location","pathname","history","pushState","getScream","openDialog","_this$props2","_this$props2$scream","dialogMarkup","spinnerDiv","thickness","spacing","profileImage","scream_LikeButton","scream_CommentForm","scream_Comments","expandButton","UnfoldMore_default","dialogContent","marginTop","Scream","_this$props$scream","_this$props$user","scream_DeleteScream","typography","scream_ScreamDialog","EditDetails","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","mapUserDetailsToState","userDetails","bio","website","editUserDetails","Edit_default","paper","profile","buttons","margin","Paper","LocationOn_default","Link_default","CalendarToday_default","Profile","handleImageChange","files","formData","FormData","append","uploadImage","handleEditPicture","document","getElementById","click","handleLogout","_this$props$user$cred","imageUrl","util_ProfileSkeleton","id","hidden","Link_Link","Location","href","rel","KeyboardReturn_default","profile_EditDetails","align","mapActionToProps","Home","getScreams","_this$props$data","recentScreamsMarkup","util_ScreamSkeleton","scream_Scream","xs","profile_Profile","Login","userData","email","password","loginUser","AppIcon","noValidate","general","customError","progress","push","Signup","newUserData","confirmPassword","signupUser","custoemError","& .image-wrapper","& .profile-image","& .profile-details","& span, svg","verticalAlign","& a","& hr","border","_props$profile","Link_Link_default","User","screamIdParam","match","params","screamsMarkup","profile_StaticProfile","createMuiTheme","light","dark","contrastText","secondary","maxhHeight","fontSize","borderBottom","& button","& svg.button","&:hover","cursor","jwtDecode","exp","Date","now","App","MuiThemeProvider_default","es","basename","layout_Navbar","exact","path","util_AuthRoute","hostname","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.d12066ae.chunk.js","sourcesContent":["import {\n    SET_USER,\n    SET_AUTHENTICATED,\n    SET_UNAUTHENTICATED,\n    LOADING_USER,\n    LIKE_SCREAM,\n    UNLIKE_SCREAM,\n    MARK_NOTIFICATIONS_READ\n} from \"../types\";\n\nconst initialState = {\n    authenticated: false,\n    loading: false,\n    credentials: {},\n    likes: [],\n    notifications: []\n};\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        case SET_AUTHENTICATED:\n            return {\n                ...state,\n                authenticated: true\n            };\n        case SET_UNAUTHENTICATED:\n            return initialState;\n        case SET_USER:\n            return {\n                authenticated: true,\n                loading: false,\n                ...action.payload\n            };\n        case LOADING_USER:\n            return {\n                ...state,\n                loading: true\n            };\n        case LIKE_SCREAM:\n            return {\n                ...state,\n                likes: [\n                    ...state.likes,\n                    {\n                        userHandle: state.credentials.handle,\n                        screamId: action.payload.screamId\n                    }\n                ]\n            };\n        case UNLIKE_SCREAM:\n            return {\n                ...state,\n                likes: state.likes.filter(like => like.screamId !== action.payload.screamId)\n            };\n        case MARK_NOTIFICATIONS_READ:\n            state.notifications.forEach(not => not.read = true);\n            return {\n                ...state\n            };\n        default:\n            return state;\n    }\n}\n","import {\n    SET_SCREAMS,\n    SET_SCREAM,\n    LOADING_DATA,\n    LIKE_SCREAM,\n    UNLIKE_SCREAM,\n    DELETE_SCREAM,\n    POST_SCREAM,\n    SUBMIT_COMMENT\n} from \"../types\";\n\n\nconst initialState = {\n    screams: [],\n    scream: {},\n    loading: false\n};\n\nexport default function (state = initialState, action) {\n    let index;\n    switch (action.type) {\n        case LOADING_DATA:\n            return {\n                ...state,\n                loading: true\n            };\n        case SET_SCREAMS:\n            return {\n                ...state,\n                screams: action.payload,\n                loading: false\n            };\n        case SET_SCREAM:\n            return {\n                ...state,\n                scream: action.payload\n            };\n        case LIKE_SCREAM:\n        case UNLIKE_SCREAM:\n            index = state.screams.findIndex((scream) => scream.screamId === action.payload.screamId);\n            state.screams[index] = action.payload;\n            if (state.scream.screamId === action.payload.screamId) {\n                state.scream = {\n                    ...state.scream,\n                    likeCount: action.payload.likeCount\n                }\n            }\n            return {\n                ...state,\n            };\n        case DELETE_SCREAM:\n            index = state.screams.findIndex((scream) => scream.screamId === action.payload);\n            state.screams.splice(index, 1);\n            return {\n                ...state\n            };\n        case POST_SCREAM:\n            return {\n                ...state,\n                screams: [\n                    action.payload,\n                    ...state.screams\n                ]\n            };\n        case SUBMIT_COMMENT:\n            index = state.screams.findIndex((scream) => scream.screamId === action.payload.screamId);\n            state.screams[index] = {\n                ...state.screams[index],\n                commentCount: state.screams[index].commentCount + 1\n            };\n            return {\n                ...state,\n                scream: {\n                    ...state.scream,\n                    commentCount: state.scream.commentCount + 1,\n                    comments: [action.payload, ...state.scream.comments]\n                }\n            };\n        default:\n            return state;\n    }\n}\n","import {SET_ERRORS, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI} from \"../types\";\n\nconst initialState = {\n    loading: false,\n    errors: null\n};\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        case SET_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: action.payload\n            };\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: null\n            };\n        case LOADING_UI:\n            return {\n                ...state,\n                loading: true\n            };\n        case STOP_LOADING_UI:\n            return {\n                ...state,\n                loading: false\n            };\n        default:\n            return state;\n    }\n}\n","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport userReducer from './reducers/userReducer';\nimport dataReducer from './reducers/dataReducer';\nimport uiReducer from './reducers/uiReducer';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n    user: userReducer,\n    data: dataReducer,\n    UI: uiReducer\n});\n\n// local\n// const store = createStore(reducers, initialState, compose(applyMiddleware(...middleware),\n//     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()));\n\n// release\nconst store = createStore(reducers, initialState, compose(applyMiddleware(...middleware)));\n\nexport default store;\n","// User reducer types\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\nexport const SET_USER = 'SET_USER';\nexport const LOADING_USER = 'LOADING_USER';\nexport const MARK_NOTIFICATIONS_READ = 'MARK_NOTIFICATIONS_READ';\n// UI reducer types\nexport const SET_ERRORS = 'SET_ERRORS';\nexport const LOADING_UI = 'LOADING_UI';\nexport const STOP_LOADING_UI = 'STOP_LOADING_UI';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\nexport const LOADING_DATA = 'LOADING_DATA';\n// Data reducer types\nexport const SET_SCREAMS = 'SET_SCREAMS';\nexport const POST_SCREAM = 'POST_SCREAM';\nexport const SET_SCREAM = 'SET_SCREAM';\nexport const LIKE_SCREAM = 'LIKE_SCREAM';\nexport const UNLIKE_SCREAM = 'UNLIKE_SCREAM';\nexport const DELETE_SCREAM = 'DELETE_SCREAM';\nexport const SUBMIT_COMMENT = 'SUBMIT_COMMENT';\n","export const FIREBASE_CORE_HOST = 'https://us-east1-xhk1995.cloudfunctions.net/api';\n","import {\n    SET_USER,\n    SET_ERRORS,\n    CLEAR_ERRORS,\n    LOADING_UI,\n    SET_UNAUTHENTICATED,\n    LOADING_USER,\n    MARK_NOTIFICATIONS_READ\n} from \"../types\";\nimport axios from \"axios\";\nimport {FIREBASE_CORE_HOST} from \"../../constants/Constants\";\n\nexport const loginUser = (userData, history) => (dispatch) => {\n    dispatch({type: LOADING_UI});\n    axios.post(`${FIREBASE_CORE_HOST}/login`, userData)\n        .then(res => {\n            setAuthorizationHeader(res.data.token);\n            dispatch(getUserData());\n            dispatch({type: CLEAR_ERRORS});\n            history.push('/');\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            });\n        })\n};\n\nexport const logoutUser = () => (dispatch) => {\n    localStorage.removeItem('FBIdToken');\n    delete axios.defaults.headers.common['Authorization'];\n    dispatch({type: SET_UNAUTHENTICATED});\n};\n\nexport const getUserData = () => (dispatch) => {\n    dispatch({type: LOADING_USER});\n    axios.get(`${FIREBASE_CORE_HOST}/user`)\n        .then(res => {\n            dispatch({\n                type: SET_USER,\n                payload: res.data\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nexport const signupUser = (newUserData, history) => (dispatch) => {\n    dispatch({type: LOADING_UI});\n    axios.post(`${FIREBASE_CORE_HOST}/signup`, newUserData)\n        .then(res => {\n            setAuthorizationHeader(res.data.token);\n            dispatch(getUserData());\n            dispatch({type: CLEAR_ERRORS});\n            history.push('/');\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            });\n        })\n};\n// TODO: 更换头像的同时更新scream头像\nexport const uploadImage = (formData) => (dispatch) => {\n    dispatch({type: LOADING_USER});\n    axios.post(`${FIREBASE_CORE_HOST}/user/image`, formData)\n        .then(() => {\n            dispatch(getUserData());\n        })\n        .catch(err => console.log(err));\n};\n\nexport const editUserDetails = (userDetails) => (dispatch) => {\n    dispatch({type: LOADING_USER});\n    axios.post(`${FIREBASE_CORE_HOST}/user`, userDetails)\n        .then(() => {\n            dispatch(getUserData());\n        })\n        .catch(err => console.log(err));\n};\n\nexport const markNotificationsRead = (notificationIds) => (dispatch) => {\n    axios.post(`${FIREBASE_CORE_HOST}/notifications`, notificationIds)\n        .then(res => {\n            dispatch({\n                type: MARK_NOTIFICATIONS_READ\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nconst setAuthorizationHeader = (token) => {\n    const FBIdToken = `Bearer ${token}`;\n    localStorage.setItem('FBIdToken', FBIdToken);\n    axios.defaults.headers.common['Authorization'] = FBIdToken;\n};\n","import React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nexport default ({children, onClick, tip, btnClassName, tipClassName, placement}) => (\n    <Tooltip title={tip} className={tipClassName} placement={placement}>\n        <IconButton onClick={onClick} className={btnClassName}>\n            {children}\n        </IconButton>\n    </Tooltip>\n);\n\n","import {\n    SET_SCREAMS,\n    SET_SCREAM,\n    POST_SCREAM,\n    LOADING_DATA,\n    LIKE_SCREAM,\n    UNLIKE_SCREAM,\n    DELETE_SCREAM,\n    LOADING_UI,\n    STOP_LOADING_UI,\n    SET_ERRORS,\n    CLEAR_ERRORS,\n    SUBMIT_COMMENT\n} from \"../types\";\nimport axios from \"axios\";\nimport {FIREBASE_CORE_HOST} from \"../../constants/Constants\";\n\nexport const getScreams = () => (dispatch) => {\n    dispatch({type: LOADING_DATA});\n    axios.get(`${FIREBASE_CORE_HOST}/screams`)\n        .then(res => {\n            dispatch({\n                type: SET_SCREAMS,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_SCREAMS,\n                payload: []\n            });\n        })\n};\n\nexport const getScream = (screamId) => (dispatch) => {\n    dispatch({type: LOADING_UI});\n    axios.get(`${FIREBASE_CORE_HOST}/scream/${screamId}`)\n        .then(res => {\n            dispatch({\n                type: SET_SCREAM,\n                payload: res.data\n            });\n            dispatch({\n                type: STOP_LOADING_UI\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nexport const postScream = (newScream) => (dispatch) => {\n    dispatch({type: LOADING_UI});\n    axios.post(`${FIREBASE_CORE_HOST}/scream`, newScream)\n        .then((res) => {\n            dispatch({\n                type: POST_SCREAM,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const likeScream = (screamId) => (dispatch) => {\n    axios.get(`${FIREBASE_CORE_HOST}/scream/${screamId}/like`)\n        .then(res => {\n            dispatch({\n                type: LIKE_SCREAM,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const unlikeScream = (screamId) => (dispatch) => {\n    axios.get(`${FIREBASE_CORE_HOST}/scream/${screamId}/unlike`)\n        .then(res => {\n            dispatch({\n                type: UNLIKE_SCREAM,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const submitComment = (screamId, commentData) => (dispatch) => {\n    axios.post(`${FIREBASE_CORE_HOST}/scream/${screamId}/comment`, commentData)\n        .then(res => {\n            dispatch({\n                type: SUBMIT_COMMENT,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({type: SET_ERRORS, payload: err.response.data});\n        })\n};\n\nexport const deleteScream = (screamId) => (dispatch) => {\n    axios.delete(`${FIREBASE_CORE_HOST}/scream/${screamId}`)\n        .then(() => {\n            dispatch({\n                type: DELETE_SCREAM,\n                payload: screamId\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const getUserData = (userHandle) => (dispatch) => {\n    dispatch({type: LOADING_DATA});\n    axios.get(`${FIREBASE_CORE_HOST}/user/${userHandle}`)\n        .then(res => {\n            dispatch({\n                type: SET_SCREAMS,\n                payload: res.data.screams\n            });\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_SCREAMS,\n                payload: null\n            })\n        })\n}\n\nexport const clearErrors = () => (dispatch) => {\n    dispatch({type: CLEAR_ERRORS})\n};\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport MyButton from '../../util/MyButton';\n\n// Redux\nimport {connect} from 'react-redux';\nimport {postScream, clearErrors} from \"../../redux/actions/dataActions\";\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icons\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = (theme) => ({\n    form: theme.form,\n    textField: theme.textField,\n    submitButton: {\n        position: 'relative',\n        float: 'right',\n    },\n    progressSpinner: {\n        position: 'absolute'\n    },\n    closeButton: {\n        position: 'absolute',\n        left: '90%',\n        top: '4%'\n    }\n});\n\nclass PostScream extends Component {\n    state = {\n        open: false,\n        body: '',\n        errors: {}\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                body: '',\n                open: false,\n                errors: {}\n            });\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n\n    handleClose = () => {\n        this.props.clearErrors();\n        this.setState({open: false, errors: {}});\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const newScream = {\n            body: this.state.body,\n        };\n        this.props.postScream(newScream);\n    };\n\n    render() {\n        const {errors} = this.state;\n        const {classes, UI: {loading}} = this.props;\n        return (\n            <Fragment>\n                <MyButton tip='Post a Scream' onClick={this.handleOpen}>\n                    <AddIcon/>\n                </MyButton>\n                <Dialog open={this.state.open}\n                        onClose={this.handleClose}\n                        fullWidth\n                        maxWidth='sm'>\n                    <MyButton tip='Close' onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogTitle>Post a new scream</DialogTitle>\n                    <DialogContent>\n                        <form onSubmit={this.handleSubmit}>\n                            <TextField\n                                name='body'\n                                type='text'\n                                label='Scream'\n                                multiline\n                                rows='3'\n                                placeholder='Scream at your fellow apes'\n                                error={!!errors.body}\n                                helperText={errors.body}\n                                className={classes.textField}\n                                value={this.state.body}\n                                onChange={this.handleChange}\n                                fullWidth/>\n                            <Button type='submit' className={classes.submitButton} variant='contained'\n                                    color='primary' disabled={loading}>\n                                Submit\n                                {loading && (<CircularProgress size={30} className={classes.progressSpinner}/>)}\n                            </Button>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        );\n    }\n}\n\nPostScream.propTypes = {\n    postScream: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, {postScream, clearErrors})(withStyles(styles)(PostScream));\n","import React, {Component, Fragment} from 'react';\nimport {Link} from \"react-router-dom\";\nimport PropTypes from 'prop-types';\n\n//Redux\nimport {connect} from \"react-redux\";\nimport {markNotificationsRead} from '../../redux/actions/userActions';\n\n// dayjs\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\n\n// Icons\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nclass Notifications extends Component {\n    state = {\n        anchorEl: null\n    };\n\n    handleOpen = (event) => {\n        this.setState({anchorEl: event.target});\n    };\n\n    handleClose = () => {\n        this.setState({anchorEl: null});\n    };\n\n    onMenuOpened = () => {\n        const unreadNotificationIds = this.props.notifications.filter(not => !not.read).map(not => not.notificationId);\n        this.props.markNotificationsRead(unreadNotificationIds);\n    };\n\n    render() {\n        const {notifications} = this.props;\n        const {anchorEl} = this.state;\n\n        dayjs.extend(relativeTime);\n\n        let notificationsIcon;\n        if (notifications && notifications.length > 0) {\n            notifications.filter(not => not.read === false).length > 0 ? (\n                notificationsIcon = (\n                    <Badge badgeContent={notifications.filter(not => not.read === false).length} color='secondary'>\n                        <NotificationsIcon/>\n                    </Badge>\n                )\n            ) : (notificationsIcon = (<NotificationsIcon/>));\n        } else {\n            notificationsIcon = (<NotificationsIcon/>)\n        }\n        let notificationsMarkup =\n            notifications && notifications.length > 0 ? (\n                notifications.map(not => {\n                    const verb = not.type === 'like' ? 'liked' : 'commented on';\n                    const time = dayjs(not.createdAt).fromNow();\n                    const iconColor = not.read ? 'primary' : 'secondary';\n                    const icon = not.type === 'like' ? (\n                        <FavoriteIcon color={iconColor} style={{marginRight: 10}}/>\n                    ) : (<ChatIcon color={iconColor} style={{marginRight: 10}}/>);\n                    return (\n                        <MenuItem key={not.createdAt} onClick={this.handleClose}>\n                            {icon}\n                            <Typography component={Link} color='textPrimary' variant='body1'\n                                        to={`/users/${not.recipient}/scream/${not.screamId}`}>\n                                {not.sender}{verb}your scream {time}\n                            </Typography>\n                        </MenuItem>\n                    )\n                })\n            ) : (<MenuItem onClick={this.handleClose}>You have no notifications yet</MenuItem>)\n        return (\n            <Fragment>\n                <Tooltip placement='top' title='Notifications'>\n                    <IconButton aria-owns={anchorEl ? 'simple-menu' : undefined} aria-haspopup='true'\n                                onClick={this.handleOpen}>\n                        {notificationsIcon}\n                    </IconButton>\n                </Tooltip>\n                <Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={this.handleClose}\n                      onEntered={this.onMenuOpened}>\n                    {notificationsMarkup}\n                </Menu>\n            </Fragment>\n        );\n    }\n}\n\nNotifications.propTypes = {\n    markNotificationsRead: PropTypes.func.isRequired,\n    notifications: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    notifications: state.user.notifications\n});\n\nexport default connect(mapStateToProps, {markNotificationsRead})(Notifications);\n","import React, {Component, Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport MyButton from '../../util/MyButton';\nimport PostScream from '../scream/PostScream';\nimport Notifications from './Notifications';\n// MUI stuff\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\n\n// Icons\nimport HomeIcon from '@material-ui/icons/Home';\n\nclass Navbar extends Component {\n    render() {\n        const {authenticated} = this.props;\n        return (\n            <AppBar>\n                <Toolbar className='nav-container'>\n                    {authenticated ? (\n                        <Fragment>\n                            <PostScream/>\n                            <Link to='/'>\n                                <MyButton tip='Home'>\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                            <Notifications/>\n                        </Fragment>\n                    ) : (\n                        <Fragment>\n                            <Button color='inherit' component={Link} to='/'>Home</Button>\n                            <Button color='inherit' component={Link} to='/login'>Login</Button>\n                            <Button color='inherit' component={Link} to='/signup'>Signup</Button>\n                        </Fragment>\n                    )}\n                </Toolbar>\n            </AppBar>\n        );\n    }\n}\n\nNavbar.propTypes = {\n    authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(Navbar);\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nconst AuthRoute = ({component: Component, authenticated, ...rest}) => (\n    <Route\n        {...rest}\n        render={props => authenticated ? <Redirect to='/'/> : <Component {...props}/>}\n    />\n);\n\nAuthRoute.propTypes = {\n    user: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(AuthRoute);\n","import React, {Fragment} from 'react';\nimport NoImg from '../images/no-img.png';\nimport PropTypes from 'prop-types';\n\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\n\nconst styles = (theme) => ({\n    card: {\n        display: 'flex',\n        marginBottom: 20,\n\n    },\n    cardContent: {\n        width: '100%',\n        flexDirection: 'column',\n        padding: 25,\n    },\n    cover: {\n        minWidth: 200,\n        objectFit: 'cover'\n    },\n    handle: {\n        width: 60,\n        height: 18,\n        backgroundColor: theme.palette.primary.main,\n        marginBottom: 7\n    },\n    date: {\n        width: 100,\n        height: 14,\n        backgroundColor: 'rgba(0,0,0,0.3)',\n        marginBottom: 7\n\n    },\n    fullLine: {\n        width: '90%',\n        height: 15,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        marginBottom: 10\n\n    },\n    halfLine: {\n        width: '50%',\n        height: 14,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        marginBottom: 7\n\n    }\n});\n\nconst ScreamSkeleton = (props) => {\n    const {classes} = props;\n    const content = Array.from({length: 5}).map((item, index) => {\n        return (\n            <Card className={classes.card} key={index}>\n                <CardMedia className={classes.cover} image={NoImg}/>\n                <CardContent className={classes.cardContent}>\n                    <div className={classes.handle}/>\n                    <div className={classes.date}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.halfLine}/>\n                </CardContent>\n            </Card>)\n    });\n    return (\n        <Fragment>\n            {content}\n        </Fragment>\n    )\n};\n\nScreamSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ScreamSkeleton);\n","import React, {Component, Fragment} from 'react';\nimport {Link} from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport MyButton from \"../../util/MyButton\";\n\n// Redux\nimport {connect} from \"react-redux\";\nimport {deleteScream} from \"../../redux/actions/dataActions\";\n\n// dayjs\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// MUI Icon\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\n\nconst styles = (theme) => ({\n    deleteButton: {\n        position: 'absolute',\n        left: '90%',\n        top: '10%'\n    }\n});\n\nclass DeleteScream extends Component {\n    state = {\n        open: false\n    };\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n        this.setState({open: false});\n    };\n    deleteScream = () => {\n        this.props.deleteScream(this.props.screamId);\n        this.setState({open: false});\n    };\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Fragment>\n                <MyButton tip='Delete scream' onClick={this.handleOpen} btnClassName={classes.deleteButton}>\n                    <DeleteOutline color='secondary'/>\n                </MyButton>\n                <Dialog open={this.state.open}\n                        onClose={this.handleClose}\n                        fullWidth\n                        maxWidth='sm'>\n                    <DialogTitle>Are you sure want to delete this scream?</DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color='primary'>Cancel</Button>\n                        <Button onClick={this.deleteScream} color='secondary'>Delete</Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        );\n    }\n}\n\nDeleteScream.propTypes = {\n    classes: PropTypes.object.isRequired,\n    deleteScream: PropTypes.func.isRequired,\n    screamId: PropTypes.string.isRequired\n};\n\nexport default connect(null, {deleteScream})(withStyles(styles)(DeleteScream));\n","import React, {Component} from 'react';\nimport MyButton from \"../../util/MyButton\";\nimport {Link} from \"react-router-dom\";\nimport PropTypes from 'prop-types';\n\n// Redux\nimport {connect} from \"react-redux\";\nimport {likeScream, unlikeScream} from \"../../redux/actions/dataActions\";\n\n// MUI Icon\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\nclass LikeButton extends Component {\n    likedScream = () =>\n        this.props.user.likes && this.props.user.likes.find(like => like.screamId === this.props.scream.screamId);\n    likeScream = () => {\n        this.props.likeScream(this.props.scream.screamId);\n    };\n    unlikeScream = () => {\n        this.props.unlikeScream(this.props.scream.screamId);\n    };\n\n    render() {\n        const {authenticated} = this.props.user;\n        const likeButton = !authenticated ? (\n            <Link to='/login'>\n                <MyButton tip='like'>\n                    <FavoriteBorder color='primary'/>\n                </MyButton>\n            </Link>\n        ) : (\n            this.likedScream() ? (\n                <MyButton tip='Undo like' onClick={this.unlikeScream}>\n                    <FavoriteIcon color='primary'/>\n                </MyButton>\n            ) : (\n                <MyButton tip='like' onClick={this.likeScream}>\n                    <FavoriteBorder color='primary'/>\n                </MyButton>\n            )\n\n        );\n        return likeButton;\n    }\n}\n\nLikeButton.propTypes = {\n    likeScream: PropTypes.func.isRequired,\n    unlikeScream: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    scream: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\n\nconst mapActionsToProps = {\n    likeScream,\n    unlikeScream\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton);\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport dayjs from 'dayjs';\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n\nconst styles = (theme) => ({\n    invisibleSeparator: theme.invisibleSeparator,\n    visibleSeparator: theme.visibleSeparator,\n    commentImage: {\n        width: 100,\n        height: 100,\n        objectFit: 'cover',\n        maxWidth: '100%',\n        borderRadius: '50%',\n    },\n    commentData: {\n        marginLeft: 20\n    }\n});\n\nclass Comments extends Component {\n    render() {\n        const {comments, classes} = this.props;\n        return (\n            <Grid container>\n                {comments.map((comment, index) => {\n                    const {body, createdAt, userImage, userHandle} = comment;\n                    return (\n                        <Fragment key={createdAt}>\n                            <Grid item sm={12}>\n                                <Grid container>\n                                    <Grid item sm={2}>\n                                        <img src={userImage} alt='comment' className={classes.commentImage}/>\n                                    </Grid>\n                                    <Grid item sm={9}>\n                                        <div className={classes.commentData}>\n                                            <Typography variant='h5' component={Link} to={`/users/${userHandle}`}\n                                                        color='primary'>\n                                                {userHandle}\n                                            </Typography>\n                                            <Typography variant='body2' color='textSecondary'>\n                                                {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\n                                            </Typography>\n                                            <hr className={classes.invisibleSeparator}/>\n                                            <Typography variant='body1'>{body}</Typography>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            {index !== comments.length - 1 && <hr className={classes.visibleSeparator}/>}\n                        </Fragment>\n                    )\n                })}\n            </Grid>\n        );\n    }\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired\n};\n\nexport default withStyles(styles)(Comments);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n// Redux\nimport {connect} from 'react-redux';\nimport {submitComment} from \"../../redux/actions/dataActions\";\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = (theme) => ({\n    textField: theme.textField,\n    button: theme.button,\n    visibleSeparator: theme.visibleSeparator\n});\n\nclass CommentForm extends Component {\n    state = {\n        body: '',\n        errors: {}\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                body: '',\n                errors: {}\n            });\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.submitComment(this.props.screamId, {\n            body: this.state.body\n        });\n    };\n\n    render() {\n        const {classes, authenticated} = this.props;\n        const {errors} = this.state;\n        const commentFormMarkup = authenticated ? (\n            <Grid item sm={12} style={{textAlign: 'center'}}>\n                <form onSubmit={this.handleSubmit}>\n                    <TextField\n                        name='body'\n                        type='text'\n                        label='Comment on scream'\n                        error={!!errors.comment}\n                        helperText={errors.comment}\n                        value={this.state.body}\n                        onChange={this.handleChange}\n                        fullWidth\n                        className={classes.textField}\n                    />\n                    <Button type='submit' variant='contained' color='primary' className={classes.button}>Submit</Button>\n                </form>\n                <hr className={classes.visibleSeparator}/>\n            </Grid>) : null;\n        return commentFormMarkup;\n    }\n}\n\nCommentForm.propTypes = {\n    UI: PropTypes.object.isRequired,\n    submitComment: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired,\n    screamId: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI,\n    authenticated: state.user.authenticated\n});\n\n\nexport default connect(mapStateToProps, {submitComment})(withStyles(styles)(CommentForm));\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport MyButton from '../../util/MyButton';\nimport dayjs from 'dayjs';\nimport {Link} from 'react-router-dom';\nimport LikeButton from \"./LikeButton\";\nimport Comments from './Comments';\nimport CommentForm from './CommentForm';\n\n// Redux\nimport {connect} from 'react-redux';\nimport {getScream, clearErrors} from \"../../redux/actions/dataActions\";\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n// Icons\nimport CloseIcon from '@material-ui/icons/Close';\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nconst styles = (theme) => ({\n    invisibleSeparator: theme.invisibleSeparator,\n    visibleSeparator: theme.visibleSeparator,\n    profileImage: {\n        width: 200,\n        height: 200,\n        objectFit: 'cover',\n        maxWidth: '100%',\n        borderRadius: '50%',\n    },\n    dialogContent: {\n        padding: 20\n    },\n    closeButton: {\n        position: 'absolute',\n        left: '90%',\n        top: '4%'\n    },\n    expandButton: {\n        position: 'absolute',\n        left: '90%'\n    },\n    spinnerDiv: {\n        textAlign: 'center',\n        marginTop: 50,\n        marginBottom: 50\n    }\n});\n\nclass ScreamDialog extends Component {\n    state = {\n        open: false,\n        oldPath: '',\n        newPath: '',\n    };\n\n    componentDidMount() {\n        console.log(this.props.openDialog);\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n    // TODO: 逻辑还需要优化，从notifications中进入\n    handleOpen = () => {\n        let oldPath = window.location.pathname;\n        const {userHandle, screamId} = this.props;\n        const newPath = `/socialape-client/users/${userHandle}/scream/${screamId}`;\n        window.history.pushState(null, null, newPath);\n        this.setState({open: true, oldPath, newPath});\n        this.props.getScream(this.props.screamId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({open: false});\n        this.props.clearErrors();\n    };\n\n    render() {\n        const {\n            classes,\n            scream: {screamId, body, createdAt, likeCount, commentCount, userImage, userHandle, comments},\n            UI: {loading}\n        } = this.props;\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200} thickness={2}/>\n            </div>\n        ) : (\n            <Grid container spacing={2}>\n                <Grid item sm={5}>\n                    <img src={userImage} alt='Profile' className={classes.profileImage}/>\n                </Grid>\n                <Grid item sm={7}>\n                    <Typography component={Link} color='primary' variant='h5' to={`/users/${userHandle}`}>\n                        @{userHandle}\n                    </Typography>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant='body2' color='textSecondary'>\n                        {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\n                    </Typography>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant='body1'>\n                        {body}\n                    </Typography>\n                    <LikeButton scream={this.props.scream}/><span>{likeCount} Likes</span>\n                    <MyButton tip='comments'>\n                        <ChatIcon color='primary'/>\n                    </MyButton>\n                    <span>{commentCount} Comments</span>\n                </Grid>\n                <hr className={classes.visibleSeparator}/>\n                <CommentForm screamId={screamId}/>\n                <Comments comments={comments}/>\n            </Grid>);\n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip='Expand scream' tipClassName={classes.expandButton}>\n                    <UnfoldMore color='primary'/>\n                </MyButton>\n                <Dialog open={this.state.open}\n                        onClose={this.handleClose}\n                        fullWidth\n                        maxWidth='sm'>\n                    <MyButton tip='Close' onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        );\n    }\n}\n\nScreamDialog.propTypes = {\n    getScream: PropTypes.func.isRequired,\n    screamId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    scream: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    scream: state.data.scream,\n    UI: state.UI\n});\n\nconst mapActionsToProps = {\n    getScream,\n    clearErrors\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(ScreamDialog));\n","import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport MyButton from \"../../util/MyButton\";\nimport DeleteScream from './DeleteScream';\nimport ScreamDialog from './ScreamDialog';\nimport LikeButton from \"./LikeButton\";\n\n// Redux\nimport {connect} from \"react-redux\";\n\n// dayjs\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\n// MUI stuff\nimport {withStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from \"@material-ui/core/Typography\";\n\n// MUI Icon\nimport ChatIcon from '@material-ui/icons/Chat';\n\nconst styles = {\n    card: {\n        position: 'relative',\n        display: 'flex',\n        marginBottom: 20\n    },\n    image: {\n        minWidth: 200\n    },\n    content: {\n        padding: 25,\n        objectFit: 'cover'\n    }\n};\n\nclass Scream extends Component {\n    render() {\n        dayjs.extend(relativeTime);\n        const {\n            classes,\n            scream: {body, createdAt, userImage, userHandle, screamId, likeCount, commentCount},\n            user: {\n                authenticated, credentials: {handle}\n            }\n        } = this.props;\n        const deleteButton = authenticated && userHandle === handle ? (\n            <DeleteScream screamId={screamId}/>\n        ) : null;\n        return (\n            <Card className={classes.card}>\n                <CardMedia image={userImage} title='Profile Image' className={classes.image}/>\n                <CardContent className={classes.content}>\n                    <Typography variant='h5' color='primary' component={Link}\n                                to={`/users/${userHandle}`} className={classes.typography}>{userHandle}</Typography>\n                    {deleteButton}\n                    <Typography variant='body2' color='textSecondary'>{dayjs(createdAt).fromNow()}</Typography>\n                    <Typography variant='body1'>{body}</Typography>\n                    <LikeButton scream={this.props.scream}/>\n                    <span>{likeCount} Likes</span>\n                    <MyButton tip='comments'>\n                        <ChatIcon color='primary'/>\n                    </MyButton>\n                    <span>{commentCount} Comments</span>\n                    <ScreamDialog screamId={screamId} userHandle={userHandle} openDialog={this.props.openDialog}/>\n                </CardContent>\n            </Card>\n        );\n    }\n}\n\nScream.propTypes = {\n    user: PropTypes.object.isRequired,\n    scream: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Scream));\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport MyButton from '../../util/MyButton';\n\n// Redux\nimport {connect} from 'react-redux';\nimport {editUserDetails} from \"../../redux/actions/userActions\";\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// Icons\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst styles = (theme) => ({\n    button: {float: 'right'},\n    form: theme.form,\n    textField: theme.textField,\n});\n\nclass EditDetails extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bio: '',\n            website: '',\n            location: '',\n            open: false\n        }\n    }\n\n    componentDidMount() {\n        const {credentials} = this.props;\n        this.mapUserDetailsToState(credentials);\n    }\n\n    handleOpen = () => {\n        this.setState({open: true});\n        this.mapUserDetailsToState(this.props.credentials);\n    };\n\n    handleClose = () => {\n        this.setState({open: false});\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = () => {\n        const userDetails = {\n            bio: this.state.bio,\n            location: this.state.location,\n            website: this.state.website,\n        };\n        this.props.editUserDetails(userDetails);\n        this.handleClose();\n    };\n\n    mapUserDetailsToState = (credentials) => {\n        this.setState({\n            bio: credentials.bio ? credentials.bio : '',\n            website: credentials.website ? credentials.website : '',\n            location: credentials.location ? credentials.location : '',\n        })\n    };\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Fragment>\n                <MyButton tip='Edit Details' placement='top' onClick={this.handleOpen} btnClassName={classes.button}>\n                    <EditIcon color='primary'/>\n                </MyButton>\n                <Dialog open={this.state.open}\n                        onClose={this.handleClose}\n                        fullWidth\n                        maxWidth='sm'>\n                    <DialogTitle>Edit your details</DialogTitle>\n                    <DialogContent>\n                        <form>\n                            <TextField\n                                name='bio'\n                                type='text'\n                                label='Bio'\n                                multiline\n                                rows='3'\n                                placeholder='A short bio about yourself'\n                                className={classes.textField}\n                                value={this.state.bio}\n                                onChange={this.handleChange}\n                                fullWidth/>\n                            <TextField\n                                name='location'\n                                type='text'\n                                label='Location'\n                                placeholder='Where you live'\n                                className={classes.textField}\n                                value={this.state.location}\n                                onChange={this.handleChange}\n                                fullWidth/>\n                            <TextField\n                                name='website'\n                                type='text'\n                                label='Website'\n                                placeholder='Your personal/professional website'\n                                className={classes.textField}\n                                value={this.state.website}\n                                onChange={this.handleChange}\n                                fullWidth/>\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color='primary'>Cancel</Button>\n                        <Button onClick={this.handleSubmit} color='primary'>Save</Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    credentials: state.user.credentials\n});\n\nEditDetails.propTypes = {\n    classes: PropTypes.object.isRequired,\n    editUserDetails: PropTypes.func.isRequired\n};\n\nexport default connect(mapStateToProps, {editUserDetails})(withStyles(styles)(EditDetails));\n","import React from 'react';\nimport NoImg from '../images/no-img.png';\nimport PropTypes from 'prop-types';\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Paper from \"@material-ui/core/Paper\";\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\n\nconst styles = (theme) => ({\n    paper: theme.paper,\n    profile: theme.profile,\n    buttons: theme.buttons,\n    handle: {\n        width: 60,\n        height: 20,\n        backgroundColor: theme.palette.primary.main,\n        margin: '0 auto 7px auto'\n    },\n    fullLine: {\n        width: '100%',\n        height: 15,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        margin: 10\n    },\n});\n\nconst ProfileSkeleton = (props) => {\n    const {classes} = props;\n    return (\n        <Paper className={classes.paper}>\n            <div className={classes.profile}>\n                <div className='image-wrapper'>\n                    <img className='profile-image' src={NoImg} alt='profile'/>\n                </div>\n                <hr/>\n                <div className='profile-details'>\n                    <div className={classes.handle}/>\n                    <hr/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <hr/>\n                    <LocationOn color='primary'/><span>Location</span>\n                    <hr/>\n                    <LinkIcon color='primary'/> https://website.com\n                    <hr/>\n                    <CalendarToday color='primary'/> Joined date\n                </div>\n            </div>\n        </Paper>\n    )\n};\n\nProfileSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProfileSkeleton);\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport MyButton from '../../util/MyButton';\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\n// Redux\nimport {connect} from 'react-redux';\nimport {logoutUser, uploadImage} from \"../../redux/actions/userActions\";\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport Paper from \"@material-ui/core/Paper\";\nimport MuiLink from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport KeyboardReturn from '@material-ui/icons/KeyboardReturn';\n\nconst styles = (theme) => ({\n    paper: theme.paper,\n    profile: theme.profile,\n    buttons: theme.buttons\n});\n\nclass Profile extends Component {\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append('image', image, image.name);\n        this.props.uploadImage(formData);\n    };\n    handleEditPicture = () => {\n        const fileInput = document.getElementById('imageInput');\n        fileInput.click();\n    };\n    handleLogout = () => {\n        this.props.logoutUser();\n    };\n\n    render() {\n        const {\n            classes,\n            user: {\n                authenticated,\n                credentials: {handle, createdAt, imageUrl, bio, website, location},\n                loading\n            }\n        } = this.props;\n        let profileMarkeup = !loading ? (authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className='image-wrapper'>\n                        <img className='profile-image' src={imageUrl} alt='profile'/>\n                        <input type='file' id='imageInput' onChange={this.handleImageChange} hidden/>\n                        <MyButton tip='Edit profile picture' placement='left-end' onClick={this.handleEditPicture}\n                                  btnClassName='button'>\n                            <EditIcon color='primary'/>\n                        </MyButton>\n                    </div>\n                    <hr/>\n                    <div className='profile-details'>\n                        <MuiLink component={Link} to={`/users/${handle}`} color='primary' variant='h5'>\n                            @{handle}\n                        </MuiLink>\n                        <hr/>\n                        {bio && <Typography variant='body2'>{bio}</Typography>}\n                        <hr/>\n                        {Location && (\n                            <Fragment>\n                                <LocationOn color='primary'/>\n                                <span>{location}</span>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color='primary'/>\n                                <a href={website} target='_blank' rel='noopener noreferrer'>\n                                    {website}\n                                </a>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        <CalendarToday color='primary'/>{'  '}\n                        <span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\n                    </div>\n                    <MyButton tip='Logout' placement='top' onClick={this.handleLogout}>\n                        <KeyboardReturn color='primary'/>\n                    </MyButton>\n                    <EditDetails/>\n                </div>\n            </Paper>\n        ) : (\n            <Paper className={classes.paper}>\n                <Typography variant='body2' align='center'>\n                    No profile found, please login again\n                </Typography>\n                <div className={classes.buttons}>\n                    <Button variant='contained' color='primary' component={Link} to='/login'>Login</Button>\n                    <Button variant='contained' color='secondary' component={Link} to='/signup'>Signup</Button>\n                </div>\n            </Paper>\n        )) : (<ProfileSkeleton/>);\n        return profileMarkeup;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nconst mapActionToProps = {logoutUser, uploadImage};\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(Profile));\n","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from 'prop-types';\nimport ScreamSkeleton from '../util/ScreamSkeleton';\n\n// Redux\nimport {connect} from 'react-redux';\nimport {getScreams} from '../redux/actions/dataActions';\n\nimport Scream from '../components/scream/Scream';\nimport Profile from '../components/profile/Profile';\n\nclass Home extends Component {\n\n    componentDidMount() {\n        this.props.getScreams();\n    }\n\n    render() {\n        const {screams, loading} = this.props.data;\n        let recentScreamsMarkup = !loading ? (\n            screams.map(scream => <Scream key={scream.screamId} scream={scream}/>\n            )\n        ) : (<ScreamSkeleton/>);\n        return (\n            <Grid container spacing={2}>\n                <Grid item sm={8} xs={12}>\n                    {recentScreamsMarkup}\n                </Grid>\n                <Grid item sm={4} xs={12}>\n                    <Profile/>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nHome.propTypes = {\n    getScreams: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, {getScreams})(Home);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/icon.jpg';\nimport {Link} from 'react-router-dom';\n\n// MUI stuff\nimport {withStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// Redux stuff\nimport {connect} from 'react-redux';\nimport {loginUser} from \"../redux/actions/userActions\";\n\nconst styles = (theme) => ({\n    form: theme.form,\n    image: theme.image,\n    textField: theme.textField,\n    button: theme.button,\n    customError: theme.customError,\n    progress: theme.progress\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            errors: {}\n        };\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData, this.props.history);\n    };\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const {classes, UI: {loading}} = this.props;\n        const {errors} = this.state;\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img className={classes.image} src={AppIcon} alt='dog'/>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField id='email' name='email' type='email' label='Email' className={classes.textField}\n                                   helperText={errors.email} error={!!errors.email}\n                                   value={this.state.email} onChange={this.handleChange}\n                                   fullWidth/>\n                        <TextField id='password' name='password' type='password' label='Password'\n                                   className={classes.textField}\n                                   helperText={errors.password} error={!!errors.password}\n                                   value={this.state.password} onChange={this.handleChange} fullWidth/>\n                        {errors.general && (\n                            <Typography variant='body2' className={classes.customError}>{errors.general}</Typography>\n                        )}\n                        <Button type='submit' variant='text' color='primary' className={classes.button}\n                                fullWidth disabled={loading}>\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress}/>\n                            )}\n                        </Button>\n                        <small>dont have an account ? sign up <Link to='/signup'>here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        );\n    }\n}\n\nLogin.propTypes = {\n    classes: PropTypes.object.isRequired,\n    loginUser: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nconst mapActionsToProps = {\n    loginUser\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Login));\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/icon.jpg';\nimport {Link} from 'react-router-dom';\n\n// MUI stuff\nimport {withStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// Redux stuff\nimport {connect} from 'react-redux';\nimport {signupUser} from \"../redux/actions/userActions\";\n\nconst styles = (theme) => ({\n    form: theme.form,\n    image: theme.image,\n    textField: theme.textField,\n    button: theme.button,\n    customError: theme.customError,\n    progress: theme.progress,\n});\n\nclass Signup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            handle: '',\n            errors: {}\n        };\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const newUserData = {\n            email: this.state.email,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n            handle: this.state.handle\n        };\n        this.props.signupUser(newUserData, this.props.history);\n    };\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const {classes, UI:{loading}} = this.props;\n        const {errors} = this.state;\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img className={classes.image} src={AppIcon} alt='dog'/>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField id='email' name='email' type='email' label='Email' className={classes.textField}\n                                   helperText={errors.email} error={!!errors.email}\n                                   value={this.state.email} onChange={this.handleChange}\n                                   fullWidth/>\n                        <TextField id='password' name='password' type='password' label='Password'\n                                   className={classes.textField}\n                                   helperText={errors.password} error={!!errors.password}\n                                   value={this.state.password} onChange={this.handleChange} fullWidth/>\n                        <TextField id='confirmPassword' name='confirmPassword' type='password'\n                                   label='Confirm Password'\n                                   className={classes.textField}\n                                   helperText={errors.confirmPassword} error={!!errors.confirmPassword}\n                                   value={this.state.confirmPassword} onChange={this.handleChange} fullWidth/>\n                        <TextField id='handle' name='handle' type='text' label='Handle'\n                                   className={classes.textField}\n                                   helperText={errors.handle} error={!!errors.handle}\n                                   value={this.state.handle} onChange={this.handleChange} fullWidth/>\n                        {errors.general && (\n                            <Typography variant='body2' className={classes.custoemError}>{errors.general}</Typography>\n                        )}\n                        <Button type='submit' variant='text' color='primary' className={classes.button}\n                                fullWidth disabled={loading}>\n                            Signup\n                            {loading && (\n                                <CircularProgress className={classes.progress}/>\n                            )}\n                        </Button>\n                        <small>Already have an account ? login <Link to='/login'>here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        );\n    }\n}\n\nSignup.propTypes = {\n    classes: PropTypes.object.isRequired,\n    user: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n    signupUser: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, {signupUser})(withStyles(styles)(Signup));\n","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\nimport {Link} from 'react-router-dom';\n\n// MUI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from \"@material-ui/core/Link/Link\";\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\n\nconst styles = (theme) => ({\n    paper: {\n        padding: 20\n    },\n    profile: {\n        '& .image-wrapper': {\n            textAlign: 'center',\n            position: 'relative',\n        },\n        '& .profile-image': {\n            width: 200,\n            height: 200,\n            objectFit: 'cover',\n            maxWidth: '100%',\n            borderRadius: '50%',\n        },\n        '& .profile-details': {\n            textAlign: 'center',\n            '& span, svg': {\n                verticalAlign: 'middle'\n            },\n            '& a': {\n                // textDecoration: 'none',\n                color: theme.palette.primary.main\n            }\n        },\n        '& hr': {\n            border: 'none',\n            margin: '0 0 10px 0'\n        }\n    }\n});\n\nconst StaticProfile = (props) => {\n    const {\n        classes,\n        profile: {handle, createdAt, imageUrl, bio, website, location},\n    } = props;\n    return (<Paper className={classes.paper}>\n        <div className={classes.profile}>\n            <div className='image-wrapper'>\n                <img className='profile-image' src={imageUrl} alt='profile'/>\n            </div>\n            <hr/>\n            <div className='profile-details'>\n                <MuiLink component={Link} to={`/users/${handle}`} color='primary' variant='h5'>\n                    @{handle}\n                </MuiLink>\n                <hr/>\n                {bio && <Typography variant='body2'>{bio}</Typography>}\n                <hr/>\n                {Location && (\n                    <Fragment>\n                        <LocationOn color='primary'/>\n                        <span>{location}</span>\n                        <hr/>\n                    </Fragment>\n                )}\n                {website && (\n                    <Fragment>\n                        <LinkIcon color='primary'/>\n                        <a href={website} target='_blank' rel='noopener noreferrer'>\n                            {website}\n                        </a>\n                        <hr/>\n                    </Fragment>\n                )}\n                <CalendarToday color='primary'/>{'  '}\n                <span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\n            </div>\n        </div>\n    </Paper>)\n};\n\nStaticProfile.propTypes = {\n    profile: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(StaticProfile);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Scream from '../components/scream/Scream';\nimport {FIREBASE_CORE_HOST} from \"../constants/Constants\";\nimport StaticProfile from '../components/profile/StaticProfile';\n\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\n// Redux\nimport {connect} from 'react-redux';\nimport {getUserData} from \"../redux/actions/dataActions\";\n\n// MUI stuff\nimport Grid from '@material-ui/core/Grid';\n\nclass User extends Component {\n    state = {\n        profile: null,\n        screamIdParam: null\n    };\n\n    componentDidMount() {\n        const handle = this.props.match.params.handle;\n        const screamId = this.props.match.params.screamId;\n        if (screamId) this.setState({screamIdParam: screamId});\n        this.props.getUserData(handle);\n        axios.get(`${FIREBASE_CORE_HOST}/user/${handle}`)\n            .then(res => {\n                this.setState({profile: res.data.user})\n            })\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        // TODO: 解决在用户界面中，跳转其他用户的问题\n        const {screams, loading} = this.props.data;\n        const {screamIdParam} = this.state;\n        let screamsMarkup = !loading ? screams.length === 0 ? (\n                <p>No screams from this user</p>\n            ) : !screamIdParam ? (\n                screams.map(scream => <Scream key={scream.screamId} scream={scream}/>\n                )\n            ) :\n            (\n                screams.map(scream => {\n                    if (scream.screamId !== screamIdParam)\n                        return <Scream key={scream.screamId} scream={scream}/>;\n                    else return <Scream key={scream.screamId} scream={scream} openDialog={true}/>\n                })\n            ) :\n            (\n                <ScreamSkeleton/>\n            );\n        return (\n            <Grid container spacing={2}>\n                <Grid item sm={8} xs={12}>\n                    {screamsMarkup}\n                </Grid>\n                <Grid item sm={4} xs={12}>\n                    {this.state.profile === null ? (<ProfileSkeleton/>) : (\n                        <StaticProfile profile={this.state.profile}/>)}\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nUser.propTypes = {\n    getUserData: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, {getUserData})(User);\n","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport './App.css';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport customTheme from './theme/theme';\nimport jwtDecode from 'jwt-decode';\nimport axios from 'axios';\n\n// Redux\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\nimport {SET_AUTHENTICATED} from \"./redux/types\";\nimport {logoutUser, getUserData} from \"./redux/actions/userActions\";\n\n// Components\nimport Navbar from './components/layout/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n// Pages\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport User from './pages/User';\n\nconst theme = createMuiTheme(customTheme);\n\nconst token = localStorage.FBIdToken;\nif (token) {\n    const decodedToken = jwtDecode(token);\n    if (decodedToken.exp * 1000 < Date.now()) {\n        // window.location.href = '/login';\n        store.dispatch(logoutUser());\n    } else {\n        store.dispatch({type: SET_AUTHENTICATED});\n        axios.defaults.headers.common['Authorization'] = token;\n        store.dispatch(getUserData());\n    }\n}\n\nclass App extends Component {\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Provider store={store}>\n                    <Router basename='/socialape-client'>\n                        <Navbar/>\n                        <div className='container'>\n                            <Switch>\n                                <Route exact path=\"/\" component={Home}/>\n                                <AuthRoute path=\"/login\" component={Login}/>\n                                <AuthRoute path=\"/signup\" component={Signup}/>\n                                <Route exact path=\"/users/:handle\" component={User}/>\n                                <Route exact path='/users/:handle/scream/:screamId' component={User}/>\n                            </Switch>\n                        </div>\n                    </Router>\n                </Provider>\n            </MuiThemeProvider>\n        )\n    }\n}\n\nexport default App;\n","export default {\n    palette: {\n        primary: {\n            light: '#33c9dc',\n            main: '#00bcd4',\n            dark: '#008394',\n            contrastText: '#fff'\n        },\n        secondary: {\n            light: '#ff6333',\n            main: '#ff3d00',\n            dark: '#b22a00',\n            contrastText: '#fff'\n        }\n    },\n    form: {\n        textAlign: 'center'\n    },\n    image: {\n        margin: '20px auto 20px auto',\n        maxWidth: 100,\n        maxhHeight: 100\n    },\n    textField: {\n        margin: '10px auto 10px auto'\n    },\n    button: {\n        margin: '20px auto 20px auto',\n        position: 'relative'\n    },\n    customError: {\n        color: 'red',\n        fontSize: '0.8rem',\n        marginTop: 10\n    },\n    progress: {\n        position: 'absolute'\n    },\n    invisibleSeparator: {\n        border: 'none',\n        margin: 4\n    },\n    visibleSeparator: {\n        width: '100%',\n        borderBottom: '1px solid rgba(0,0,0,0.1)',\n        marginBottom: 20\n    },\n    paper: {\n        padding: 20\n    },\n    profile: {\n        '& .image-wrapper': {\n            textAlign: 'center',\n            position: 'relative',\n            '& button': {\n                position: 'absolute',\n                top: '80%',\n                left: '70%'\n            }\n        },\n        '& .profile-image': {\n            width: 200,\n            height: 200,\n            objectFit: 'cover',\n            maxWidth: '100%',\n            borderRadius: '50%',\n        },\n        '& .profile-details': {\n            textAlign: 'center',\n            '& span, svg': {\n                verticalAlign: 'middle'\n            },\n            '& a': {\n                color: '#00bcd4'\n            }\n        },\n        '& hr': {\n            border: 'none',\n            margin: '0 0 10px 0'\n        },\n        '& svg.button': {\n            '&:hover': {\n                cursor: 'pointer'\n            }\n        }\n    },\n    buttons: {\n        textAlign: 'center',\n        '& a': {\n            margin: '20px 10px'\n        }\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/no-img.b6681619.png\";","module.exports = __webpack_public_path__ + \"static/media/icon.9a85a5b9.jpg\";"],"sourceRoot":""}